

<!DOCTYPE html>
<html>
<head>
  <title>Splitter</title>
  <link href="./app.css" rel='stylesheet' type='text/css'>
  <script src="./app.js"></script>
</head>
<body>
  <h1>Splitter</h1>
  <h2>B9Lab Project by AutoAbacus version <span id=Version></span></h2>
  <table>
    <tr>
      <th>Who</th>
      <th>Address</th>
      <th>Ethers</th>
      <th rowspan=3>Ethers<br>To Send</th>
    </tr>
    <tr>
      <td>Contract</td>
      <td id=ContractAddr></td>
      <td id=ContractEthers></td>
    </tr>
    <tr>
      <td>Owner</td>
      <td id=OwnerAddr></td>
      <td id=OwnerEthers></td>
    </tr>
    <tr>
      <td>Alice</td>
      <td id=AliceAddr></td>
      <td id=AliceEthers></td>
      <td><input type=text id=AliceAmt placeholder="e.g. 10 or 5.5"></input></td>
      <td><button id=AliceBtn onclick="Send(2)">Send</button></td>
    </tr>
    <tr>
      <td>Bob</td>
      <td id=BobAddr></td>
      <td id=BobEthers></td>
      <td><input type=text id=BobAmt placeholder="e.g. 10 or 5.5"></input></td>
      <td><button id=BobBtn onclick="Send(3)">Send</button></td></tr>
    <tr>
      <td>Carol</td>
      <td id=CarolAddr></td>
      <td id=CarolEthers></td>
      <td><input type=text id=CarolAmt placeholder="e.g. 10 or 5.5"></input></td>
      <td><button id=CarolBtn onclick="Send(4)">Send</button></td>
      <td><button id=CarolPullBtn onclick="CarolPull()">Withdraw</button></td>
    </tr>
    <tr>
      <td>Anyone</td>
      <td><input type=text id=AnyAddr placeholder="e.g. 0xf48f44fe36cf93623b09cbf31e3b6154686d7a51" style="width:380px"></input></td>
      <td id=AnyEthers></td>
      <td><input type=text id=AnyAmt placeholder="e.g. 10 or 5.5"></input></td>
      <td><button id=AnyBtn onclick="Send(5)">Send</button></td>
    </tr>
  </table>
  <br>
  <button id=RefreshBtn title="Click to refresh the Ethers column balance above in case they were changed by another process." onclick="Refresh()">Refresh Ether Balances</button>
  <br><p><b>Status</b>: <em><span id=Status>Loading</span></em></p>
  <h3>Notes:</h3>
  <ol>
    <li>Amounts sent by Alice will be split 50/50 between Bob and Carol, as amounts waiting to be withdrawn, using the pull rather than push pattern.<br>Just for the experience and the fun of it, amounts split to Bob are withdrawn immediately.<br>Carol must click "Withdraw" to get hers.</li>
    <li>Any other sends will be allocated to the Splitter contract.</li>
    <li>Extra fields could be added to show pending withdrawals for Bob and Carol but I have not added that facility.</li>
    <li>Decimal fractions of Ethers to be sent can be entered.</li>
    <li>The buttons are not disabled/enabled re input validity or activity in progress as they should be for a real system.</li>
    <li>Checking inputs for validity could be much improved.</li>
  </ol>
</body>
</html>
